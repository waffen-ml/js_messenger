extends index

include units

append header
    script(src="https://unpkg.com/peerjs@1.5.1/dist/peerjs.min.js")
    style 
        include css/chat.css
        include css/content.css
append body 
    script 
        include js/chat.js

block main
    .chat-header.block 
        .info(onclick='alert("options")')
            img.avatar
            span.chat-name.finite
            span.subinfo.finite
        .actions 
            button.join-call –ó–≤–æ–Ω–∏—Ç—å
            button.leave-call –û—Ç–∫–ª—é—á–∏—Ç—å—Å—è

    .voice-chat.block
        .preview
            span.list.finite –í –∑–≤–æ–Ω–∫–µ:
            span.count (
                b.num 0
                | 
                span —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
                |)
        .voice-controls
            .personal
                span –í–∞—à –º–∏–∫—Ä–æ—Ñ–æ–Ω
                button.mute –í–∫–ª—é—á–µ–Ω
            .wrapper.styled-scroll
                ul.members

    .holder-wrapper.block.styled-scroll
        .load-zone
        .holder 
    .input-bar
        input.entry(type="text", placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ")
        button.button#stickers üòÄ 
        button.button#file üìÅ
        button.button#send üì®
    
    script(type="text/x-ejs-template", template="stickerscw")
        .grid.emojis#emoji.styled-scroll
                <% emojiList.forEach((emoji, i) => { %>
                button.button.emoji <%=emoji%>
                <% }) %>
        
        <% packs.forEach(pack => { %>
        .grid.stickers(id!="<%=pack.name%>").disabled.styled-scroll
            <% for(let i = 0; i < pack.count; i++) { %>
            button.button.sticker(id!="<%=i%>")
                img(src!="/public/stickers/<%=pack.name%>/<%=i%>.png")
            <% } %>
        <% }) %>
        hr
        .navigation
            button.button#emoji üòÄ
            <% packs.forEach(pack => { %>
            button.button(id!="<%=pack.name%>")
                img.preview(src!="/public/stickers/<%=pack.name%>/0.png")
            <% }) %>